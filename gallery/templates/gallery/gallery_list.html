{% extends "base.html" %}
{% load static %}

{% block extra_title %} | Store{% endblock %}

{% block content %}
<div class="store-page">
  <div class="container">
    <!-- Store Header -->
    <div class="store-header text-center">
      <h1 class="store-title">Store</h1>
      <p class="store-subtitle">Limited-edition prints &amp; originals</p>
    </div>

    <!-- Category Tabs -->
    <div class="store-tabs">
      <a href="{% url 'gallery' %}"
         class="store-tab {% if not active_category %}active{% endif %}">
        All
      </a>
      {% for cat in categories %}
        <a href="?category={{ cat.slug }}"
           class="store-tab {% if active_category == cat.slug %}active{% endif %}">
          {{ cat.name }}
        </a>
      {% endfor %}
    </div>

    <!-- Prints Grid -->
    <div class="store-grid">
      {% for print in prints %}
      <div class="store-item">
        <a href="{% url 'art_detail' print.slug %}" class="store-item-link">
          <div class="store-item-image">
            {% if print.image %}
              <img src="{{ print.image.url }}" alt="{{ print.title }}" loading="lazy">
            {% else %}
              <div class="store-item-placeholder">
                <i class="fas fa-image fa-2x"></i>
              </div>
            {% endif %}
          </div>
          <div class="store-item-info">
            <h3 class="store-item-title">{{ print.title }}</h3>
            <p class="store-item-price">&euro;{{ print.price }}</p>
            {% if print.limited_edition %}
              <span class="store-item-edition">{{ print.limited_edition }} remaining</span>
            {% endif %}
          </div>
        </a>
      </div>
      {% empty %}
      <div class="store-empty">
        <i class="fas fa-palette fa-3x mb-3"></i>
        <p>No prints available in this category yet.</p>
        <a href="{% url 'gallery' %}" class="btn btn-outline-light">View All Prints</a>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
